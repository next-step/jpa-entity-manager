# jpa-entity-manager

### ğŸš€ 1ë‹¨ê³„ - ì—”í„°í‹° ë§¤í•‘ (EntityPersister)

#### ìš”êµ¬ì‚¬í•­

* [x] ìš”êµ¬ì‚¬í•­ 1 - ì—”í„°í‹°ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë§¤í•‘, ì¿¼ë¦¬ ìƒì„± ë° ì‹¤í–‰
    * 1ì£¼ ì°¨ì— ë§Œë“¤ì—ˆë˜ ì¿¼ë¦¬ ë¹Œë”ë¥¼ ì˜ í™œìš©í•´ ë³´ì
    * ì¿¼ë¦¬ ì¶œë ¥ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë©”ì„œë“œ ë° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë„ ë¬´ê´€

* [x] ìš”êµ¬ì‚¬í•­ 2 - EntityManager ì˜ ì±…ì„ ì¤„ì—¬ì£¼ê¸°
    * EntityManager ì˜ êµ¬í˜„ì²´ì—ì„œ ì¿¼ë¦¬ ìƒì„± ë° ë°ì´í„° ë§¤í•‘ ì— ëŒ€í•œ ì±…ì„ì„ EntityPersister ë¡œ ì˜®ê²¨ì£¼ì

### ğŸš€ 2ë‹¨ê³„ - ì—”í„°í‹° ì´ˆê¸°í™” (EntityLoader)

#### ìš”êµ¬ì‚¬í•­

* [x] ìš”êµ¬ì‚¬í•­ 1 - RowMapper ë¦¬íŒ©í„°ë§
    * ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œìš´ ì—”í‹°í‹°ê°€ ìƒê¸¸ ë•Œë§ˆë‹¤ ë§¤ë²ˆ RowMapperë¥¼ ë§Œë“¤ì–´ì•¼ í• ê¹Œ? ë™ì ìœ¼ë¡œ ìƒì„±í•´ ë³´ì
    * > EntityLoaderë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ êµ¬í˜„<br>
      ResultSetì˜ metaDataë¥¼ ì˜í™œìš©í•´ë³´ì<br>
      EntityLoaderëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì—¬ ì—”í‹°í‹° ê°ì²´ë¥¼ ë¡œë“œí•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

* [x] ìš”êµ¬ì‚¬í•­ 2 - EntityManager ì˜ ì±…ì„ ì¤„ì—¬ì£¼ê¸°
    * EntityManager ì˜ êµ¬í˜„ì²´ì—ì„œ find ì— ëŒ€í•œ ì±…ì„ì„ EntityLoader ë¡œ ì˜®ê²¨ì£¼ì

### ğŸš€ 3ë‹¨ê³„ - First Level Cache, Dirty Check

#### ìš”êµ¬ì‚¬í•­

* [x] ìš”êµ¬ì‚¬í•­1 - PersistenceContext êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ ë³´ê³  1ì°¨ ìºì‹±ì„ ì ìš©í•´ë³´ì
    * > ì—”í‹°í‹°ë¥¼ ì–´ë–»ê²Œ ì €ì¥í• ì§€ ì˜ ê³ ë ¤í•´ë³´ì
    * ```java
      public interface PersistenceContext {
          Object getEntity(Long id);
          void addEntity(Long id, Object entity);
          void removeEntity(Object entity);
      }
      ```

* [x] ìš”êµ¬ì‚¬í•­2 - snapshot ë§Œë“¤ê¸°
    1. ì˜ì† ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ Entity ë¥¼ ì¡°íšŒ
    2. ì¡°íšŒëœ ìƒíƒœì˜ Entity ë¥¼ ìŠ¤ëƒ…ìƒ· ìƒì„±
    3. íŠ¸ëœì­ì…˜ ì»¤ë°‹ í›„ í•´ë‹¹ ìŠ¤ëƒ…ìƒ·ê³¼ í˜„ì¬ Entity ë¥¼ ë¹„êµ (ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë°‹ì€ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤)
    4. ë‹¤ë¥¸ ì ì„ ì¿¼ë¦¬ë¡œ ìƒì„±
    5. ìš”êµ¬ì‚¬í•­3 - ë”í‹°ì²´í‚¹ êµ¬í˜„


* [x] ìš”êµ¬ì‚¬í•­3 - ë”í‹°ì²´í‚¹ êµ¬í˜„
    * Snapshot ê¸°ë°˜ Dirty Checking
